name: "CI With Flask Application"

on:
    workflow_dispatch:

    push:
        branches:
            - main


jobs:
   build:
    runs-on: self-hosted

    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Set up Python
        uses: actions/setup-python@v4
        with:
            python-version: '3'

      - name: Install Dependencies
        run: |
           python -m pip install --upgrade pip
           pip install flask

      - name: Ruinng  PM2
        run: | 
           pm2 restart python-app

      
